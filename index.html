<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>かけざん れんしゅう</title>
  <link rel="stylesheet" href="styles.css">

  <!-- 花火ライブラリ（canvas-confetti） -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
</head>

<body class="skin-normal bg-easy">
  <div id="app">

    <!-- タイトル -->
    <div class="title">かけざん れんしゅう</div>

    <!-- 難易度選択 -->
    <div class="mode-select">
      <button class="mode-btn active" data-qcount="10">やさしい</button>
      <button class="mode-btn" data-qcount="20">ふつう</button>
      <button class="mode-btn" data-qcount="30">ちょうせん</button>
    </div>

    <!-- BGM トグル -->
    <button id="bgmToggle">♪ BGM おん</button>

    <!-- タイマー（ちょうせんモード） -->
    <div id="timeDisplay" class="hidden"></div>

    <!-- ====================
         クイズカード
    ===================== -->
    <div id="quizCard" class="card">

      <!-- 問題番号とスコア -->
      <div style="font-size: 16px; margin-bottom: 8px;">
        <span id="qNo">1</span> / <span id="qTotal">10</span>
        &nbsp;|&nbsp; スコア：<span id="score">0</span>
      </div>

      <!-- 問題 -->
      <div class="problem">
        <span id="left">2</span> × <span id="right">3</span> ＝
      </div>

      <!-- 回答欄 -->
      <div id="answerBox">□</div>

      <!-- エフェクト（せいかい！など） -->
      <div id="fx" class="fx"></div>

      <!-- コンボバッジ -->
      <div id="comboBadge"></div>

      <!-- キーパッド -->
      <div class="keypad">
        <div class="key">1</div>
        <div class="key">2</div>
        <div class="key">3</div>
        <div class="key">4</div>
        <div class="key">5</div>
        <div class="key">6</div>
        <div class="key">7</div>
        <div class="key">8</div>
        <div class="key">9</div>
        <div id="keyClr" class="key">C</div>
        <div class="key">0</div>
        <div id="keyBk" class="key">←</div>
      </div>

      <button id="submitBtn">こたえあわせ</button>

      <!-- 恐竜エリア -->
      <div class="dino-area">
        <div id="dinoEmoji">🦕</div>
        <div id="dinoName">きょうりゅうレベル 1</div>
        <div id="dinoMsg">がんばろう！</div>

        <!-- スターバー -->
        <div class="star-bar">
          <div id="starFill"></div>
        </div>
      </div>

      <!-- 九九表 ボタン -->
      <button id="showTableBtn" style="margin-top: 14px;">九九の表を見る</button>

    </div> <!-- /quizCard -->

    <!-- ====================
         結果カード
    ===================== -->
    <div id="resultCard" class="card hidden">
      <h2 style="margin-top:0;">けっか</h2>
      <div id="finalScore" style="font-size: 40px; font-weight: bold;">0てん</div>
      <div id="summaryList" style="text-align:left; margin-top: 16px;"></div>

      <button id="againBtn" style="margin-top:16px;">もういちど</button><br>
      <button id="restartBtn" style="margin-top:10px;">さいしょから</button>
    </div>

    <!-- ====================
         九九表のモーダル
    ===================== -->
    <div id="tableModal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-content">
        <button id="closeModal" style="
          position:absolute; top:10px; right:10px;
          background:#ff8d8d; border-radius:10px; padding:6px 10px; font-weight:bold;
        ">とじる</button>
        <h3>九九の表</h3>
        <div id="kukuGrid"></div>
      </div>
    </div>

  </div> <!-- /app -->

  <script src="app.js"></script>
</body>
</html>
